import pandas as pd
import json
import re

CATEGORIES_MAP = {
    "магазин": 0,
    "аптека": 1,
    "кафе": 2,
    "клиника": 3,
    "остановка": 4
}

def parse_text_scenarios(text):
    scenarios_dict = {}
    blocks = re.split(r'-{10,}', text)
    for block in blocks:
        if not block.strip(): continue
        num_match = re.search(r'Сценарий №(\d+)', block)
        if not num_match: continue
        num = int(num_match.group(1))
        ndvi_match = re.search(r'NDVI\):\s*(\d+)%', block)
        ndvi = int(ndvi_match.group(1)) / 100.0 if ndvi_match else 0.0
        infra_list = []
        infra_section = re.search(r'Инфраструктура:(.*)', block, re.DOTALL)
        if infra_section:
            items = infra_section.group(1).split(',')
            for item in items:
                parts = item.split(':')
                if len(parts) == 2:
                    name = parts[0].strip().lower()
                    time_val = float(re.search(r'(\d+\.?\d*)', parts[1]).group(1))
                    if name in CATEGORIES_MAP:
                        infra_list.append({"class": CATEGORIES_MAP[name], "walk_time": time_val})
        scenarios_dict[num] = {"ndvi": ndvi, "objects": infra_list}
    return scenarios_dict

def build_final_dataset(csv_path, raw_text):
    scenarios_library = parse_text_scenarios(raw_text)
    
    # загрузка CSV с оценками
    df = pd.read_csv(csv_path)
    final_dataset = []

    # проход по строкам и извлечение оценок
    for _, row in df.iterrows():
        # пропускаем первые два столбца (служебные поля формы)
        for col_idx in range(2, len(row)):
            raw_score = row.iloc[col_idx]
            
            # пропускаем пустые ячейки
            if pd.notna(raw_score) and str(raw_score).strip() != "":
                try:
                    # нормализация значения и приведение к float
                    clean_score = float(str(raw_score).replace(',', '.').strip())
                    
                    # номер сценария берется из имени колонки
                    col_name = df.columns[col_idx]
                    scenario_num = int(re.search(r'№(\d+)', col_name).group(1))
                    
                    if scenario_num in scenarios_library:
                        final_dataset.append({
                            "scenario_id": scenario_num,
                            "input": scenarios_library[scenario_num],
                            "target": clean_score / 100.0
                        })
                except Exception as e:
                    continue

    with open("cityvibe_dataset.json", "w", encoding="utf-8") as f:
        json.dump(final_dataset, f, ensure_ascii=False, indent=4)
    
    print(f"Обработано оценок: {len(final_dataset)}")
    print("Выходной файл: cityvibe_dataset.json")

# текстовые сценарии (используются для формирования входов)
RAW_SCENARIOS = """
Сценарий №1
Зелень (NDVI): 48%
Инфраструктура: кафе: 5.3 мин, кафе: 8.0 мин, остановка: 8.4 мин, аптека: 8.9 мин, магазин: 9.1 мин
--------------------------------------------------
Сценарий №2
Зелень (NDVI): 55%
Инфраструктура: остановка: 6.2 мин, аптека: 7.8 мин, магазин: 12.2 мин, кафе: 13.0 мин, аптека: 14.5 мин, кафе: 17.7 мин
--------------------------------------------------
Сценарий №3
Зелень (NDVI): 40%
Инфраструктура: остановка: 8.2 мин, аптека: 8.7 мин, кафе: 8.9 мин, кафе: 10.5 мин
--------------------------------------------------
Сценарий №4
Зелень (NDVI): 39%
Инфраструктура: остановка: 3.1 мин, клиника: 7.5 мин, магазин: 12.4 мин, кафе: 14.7 мин
--------------------------------------------------
Сценарий №5
Зелень (NDVI): 20%
Инфраструктура: кафе: 2.3 мин, остановка: 6.2 мин, клиника: 7.1 мин, остановка: 8.0 мин
--------------------------------------------------
Сценарий №6
Зелень (NDVI): 26%
Инфраструктура: остановка: 3.7 мин, магазин: 6.0 мин, остановка: 6.1 мин, аптека: 8.0 мин, кафе: 10.6 мин, магазин: 12.1 мин, кафе: 16.8 мин, клиника: 19.4 мин
--------------------------------------------------
Сценарий №7
Зелень (NDVI): 19%
Инфраструктура: остановка: 3.8 мин, аптека: 7.2 мин, кафе: 8.4 мин, клиника: 9.9 мин, магазин: 11.8 мин, клиника: 16.4 мин
--------------------------------------------------
Сценарий №8
Зелень (NDVI): 28%
Инфраструктура: остановка: 3.4 мин, аптека: 3.9 мин, магазин: 6.5 мин, магазин: 11.4 мин, клиника: 21.0 мин
--------------------------------------------------
Сценарий №9
Зелень (NDVI): 61%
Инфраструктура: остановка: 3.5 мин, остановка: 6.4 мин, аптека: 9.8 мин, клиника: 13.5 мин, аптека: 16.4 мин
--------------------------------------------------
Сценарий №10
Зелень (NDVI): 34%
Инфраструктура: остановка: 3.0 мин, остановка: 5.8 мин, клиника: 11.3 мин, магазин: 14.5 мин
--------------------------------------------------
Сценарий №11
Зелень (NDVI): 30%
Инфраструктура: клиника: 3.8 мин, магазин: 5.3 мин, клиника: 7.3 мин, аптека: 14.0 мин, кафе: 14.7 мин
--------------------------------------------------
Сценарий №12
Зелень (NDVI): 52%
Инфраструктура: кафе: 2.8 мин, магазин: 5.8 мин, аптека: 6.1 мин, остановка: 6.3 мин, клиника: 10.3 мин, клиника: 14.4 мин
--------------------------------------------------
Сценарий №13
Зелень (NDVI): 30%
Инфраструктура: остановка: 4.9 мин, остановка: 6.6 мин, кафе: 13.4 мин, аптека: 15.1 мин, кафе: 16.4 мин, клиника: 23.4 мин
--------------------------------------------------
Сценарий №14
Зелень (NDVI): 44%
Инфраструктура: остановка: 7.7 мин, кафе: 7.7 мин, магазин: 10.9 мин, аптека: 10.9 мин, клиника: 17.1 мин, клиника: 22.7 мин
--------------------------------------------------
Сценарий №15
Зелень (NDVI): 25%
Инфраструктура: аптека: 11.1 мин, кафе: 13.5 мин, клиника: 14.5 мин, аптека: 15.8 мин, клиника: 19.9 мин
--------------------------------------------------
Сценарий №16
Зелень (NDVI): 37%
Инфраструктура: кафе: 3.6 мин, магазин: 8.9 мин, магазин: 13.8 мин, аптека: 16.3 мин
--------------------------------------------------
Сценарий №17
Зелень (NDVI): 37%
Инфраструктура: остановка: 6.3 мин, клиника: 8.6 мин, кафе: 11.9 мин
--------------------------------------------------
Сценарий №18
Зелень (NDVI): 64%
Инфраструктура: магазин: 2.2 мин, клиника: 10.5 мин, аптека: 12.1 мин, кафе: 13.0 мин, аптека: 17.1 мин, кафе: 19.7 мин
--------------------------------------------------
Сценарий №19
Зелень (NDVI): 43%
Инфраструктура: остановка: 2.0 мин, магазин: 2.6 мин, аптека: 7.8 мин, кафе: 11.9 мин, клиника: 14.0 мин, кафе: 14.5 мин
--------------------------------------------------
Сценарий №20
Зелень (NDVI): 24%
Инфраструктура: магазин: 3.8 мин, магазин: 7.6 мин, кафе: 8.4 мин, клиника: 9.0 мин, кафе: 11.0 мин, аптека: 11.1 мин, клиника: 15.2 мин
--------------------------------------------------
Сценарий №21
Зелень (NDVI): 18%
Инфраструктура: остановка: 9.6 мин, клиника: 10.3 мин, остановка: 11.9 мин, аптека: 12.1 мин, магазин: 12.6 мин, кафе: 14.9 мин, магазин: 19.0 мин
--------------------------------------------------
Сценарий №22
Зелень (NDVI): 38%
Инфраструктура: аптека: 3.1 мин, магазин: 6.2 мин, остановка: 6.5 мин, остановка: 8.5 мин, клиника: 9.4 мин, клиника: 12.0 мин
--------------------------------------------------
Сценарий №23
Зелень (NDVI): 28%
Инфраструктура: магазин: 3.3 мин, кафе: 8.1 мин, магазин: 8.8 мин, клиника: 11.3 мин, клиника: 14.1 мин, аптека: 16.2 мин, аптека: 18.2 мин
--------------------------------------------------
Сценарий №24
Зелень (NDVI): 21%
Инфраструктура: аптека: 5.0 мин, остановка: 6.7 мин, аптека: 7.6 мин, магазин: 10.3 мин, кафе: 11.7 мин, клиника: 22.2 мин
--------------------------------------------------
Сценарий №25
Зелень (NDVI): 50%
Инфраструктура: клиника: 3.0 мин, остановка: 4.7 мин, аптека: 6.3 мин, магазин: 9.6 мин, кафе: 10.5 мин, аптека: 12.4 мин, магазин: 14.6 мин
--------------------------------------------------
Сценарий №26
Зелень (NDVI): 20%
Инфраструктура: магазин: 4.0 мин, кафе: 7.1 мин, остановка: 9.2 мин, аптека: 10.3 мин, клиника: 13.2 мин, клиника: 17.4 мин
--------------------------------------------------
Сценарий №27
Зелень (NDVI): 36%
Инфраструктура: аптека: 7.4 мин, аптека: 9.4 мин, магазин: 14.5 мин, клиника: 16.4 мин, клиника: 18.6 мин
--------------------------------------------------
Сценарий №28
Зелень (NDVI): 36%
Инфраструктура: остановка: 5.3 мин, кафе: 8.5 мин
--------------------------------------------------
Сценарий №29
Зелень (NDVI): 31%
Инфраструктура: остановка: 2.9 мин, остановка: 5.2 мин, аптека: 6.5 мин, кафе: 7.6 мин, аптека: 11.3 мин
--------------------------------------------------
Сценарий №30
Зелень (NDVI): 28%
Инфраструктура: остановка: 4.7 мин, аптека: 5.7 мин, клиника: 7.5 мин, клиника: 11.8 мин, аптека: 12.1 мин, магазин: 14.5 мин, кафе: 14.9 мин, кафе: 18.3 мин, магазин: 20.7 мин
--------------------------------------------------
Сценарий №31
Зелень (NDVI): 28%
Инфраструктура: кафе: 8.0 мин, остановка: 9.6 мин, кафе: 11.2 мин, магазин: 14.7 мин, клиника: 18.3 мин
--------------------------------------------------
Сценарий №32
Зелень (NDVI): 26%
Инфраструктура: магазин: 8.7 мин, остановка: 8.9 мин, аптека: 11.6 мин, магазин: 12.4 мин, кафе: 14.1 мин, клиника: 14.5 мин, клиника: 17.0 мин
--------------------------------------------------
Сценарий №33
Зелень (NDVI): 14%
Инфраструктура: кафе: 2.0 мин, магазин: 3.3 мин, клиника: 6.8 мин, аптека: 17.4 мин
--------------------------------------------------
Сценарий №34
Зелень (NDVI): 10%
Инфраструктура: остановка: 4.6 мин, кафе: 5.6 мин, магазин: 10.1 мин, аптека: 11.3 мин, аптека: 15.3 мин, магазин: 16.1 мин, клиника: 23.3 мин, клиника: 24.9 мин
--------------------------------------------------
Сценарий №35
Зелень (NDVI): 42%
Инфраструктура: магазин: 2.4 мин, магазин: 4.7 мин, аптека: 9.4 мин, аптека: 13.0 мин
--------------------------------------------------
Сценарий №36
Зелень (NDVI): 63%
Инфраструктура: кафе: 2.8 мин, магазин: 2.9 мин, кафе: 9.5 мин, остановка: 9.6 мин, клиника: 15.4 мин, клиника: 20.2 мин
--------------------------------------------------
Сценарий №37
Зелень (NDVI): 56%
Инфраструктура: остановка: 4.5 мин, магазин: 6.6 мин, остановка: 8.7 мин, аптека: 14.8 мин, аптека: 19.8 мин
--------------------------------------------------
Сценарий №38
Зелень (NDVI): 24%
Инфраструктура: клиника: 7.4 мин, магазин: 9.8 мин
--------------------------------------------------
Сценарий №39
Зелень (NDVI): 27%
Инфраструктура: остановка: 2.8 мин, магазин: 8.8 мин, магазин: 11.0 мин, аптека: 14.8 мин, клиника: 19.9 мин, аптека: 21.5 мин
--------------------------------------------------
Сценарий №40
Зелень (NDVI): 53%
Инфраструктура: остановка: 2.3 мин, магазин: 2.3 мин, аптека: 8.3 мин, аптека: 15.0 мин, клиника: 15.6 мин, клиника: 20.0 мин
--------------------------------------------------
Сценарий №41
Зелень (NDVI): 27%
Инфраструктура: аптека: 6.4 мин, магазин: 7.0 мин, клиника: 22.2 мин, клиника: 24.9 мин
--------------------------------------------------
Сценарий №42
Зелень (NDVI): 43%
Инфраструктура: остановка: 7.5 мин, клиника: 9.4 мин, остановка: 9.8 мин, кафе: 13.6 мин, магазин: 13.7 мин, аптека: 17.3 мин, магазин: 19.6 мин
--------------------------------------------------
Сценарий №43
Зелень (NDVI): 49%
Инфраструктура: остановка: 4.1 мин, кафе: 9.8 мин, аптека: 11.0 мин, магазин: 12.5 мин, аптека: 14.4 мин, клиника: 20.7 мин, клиника: 24.4 мин
--------------------------------------------------
Сценарий №44
Зелень (NDVI): 42%
Инфраструктура: аптека: 5.1 мин, аптека: 7.3 мин, магазин: 7.4 мин, магазин: 11.4 мин
--------------------------------------------------
Сценарий №45
Зелень (NDVI): 28%
Инфраструктура: остановка: 2.8 мин, магазин: 4.6 мин, остановка: 6.0 мин, кафе: 12.2 мин, клиника: 16.8 мин
--------------------------------------------------
Сценарий №46
Зелень (NDVI): 47%
Инфраструктура: кафе: 4.2 мин, магазин: 4.7 мин, остановка: 4.8 мин, аптека: 13.3 мин, клиника: 18.2 мин
--------------------------------------------------
Сценарий №47
Зелень (NDVI): 20%
Инфраструктура: магазин: 3.6 мин, клиника: 7.3 мин, клиника: 12.7 мин, кафе: 13.2 мин
--------------------------------------------------
Сценарий №48
Зелень (NDVI): 48%
Инфраструктура: магазин: 2.5 мин, аптека: 3.6 мин, кафе: 6.7 мин
--------------------------------------------------
Сценарий №49
Зелень (NDVI): 39%
Инфраструктура: остановка: 2.5 мин, остановка: 8.6 мин, кафе: 10.0 мин, магазин: 10.6 мин, аптека: 14.8 мин, клиника: 22.9 мин
--------------------------------------------------
Сценарий №50
Зелень (NDVI): 39%
Инфраструктура: кафе: 3.0 мин, клиника: 3.6 мин, остановка: 4.7 мин, магазин: 5.7 мин, аптека: 17.4 мин, аптека: 19.3 мин
--------------------------------------------------
Сценарий №51
Зелень (NDVI): 63%
Инфраструктура: кафе: 5.1 мин, остановка: 8.3 мин, клиника: 11.3 мин, магазин: 11.4 мин, аптека: 14.7 мин, аптека: 17.5 мин
--------------------------------------------------
Сценарий №52
Зелень (NDVI): 31%
Инфраструктура: кафе: 2.5 мин, аптека: 5.7 мин, остановка: 8.0 мин, остановка: 10.9 мин
--------------------------------------------------
Сценарий №53
Зелень (NDVI): 28%
Инфраструктура: магазин: 2.6 мин, клиника: 5.1 мин, остановка: 6.9 мин, магазин: 7.1 мин, аптека: 13.2 мин, кафе: 14.4 мин
--------------------------------------------------
Сценарий №54
Зелень (NDVI): 32%
Инфраструктура: кафе: 4.6 мин, клиника: 8.1 мин, магазин: 10.4 мин, кафе: 10.8 мин, клиника: 11.4 мин
--------------------------------------------------
Сценарий №55
Зелень (NDVI): 27%
Инфраструктура: остановка: 3.9 мин, магазин: 6.6 мин, остановка: 7.3 мин, кафе: 8.7 мин, кафе: 11.0 мин, аптека: 13.5 мин
--------------------------------------------------
Сценарий №56
Зелень (NDVI): 31%
Инфраструктура: клиника: 2.6 мин, остановка: 3.5 мин, кафе: 4.6 мин, остановка: 6.7 мин, магазин: 8.9 мин, кафе: 9.8 мин, магазин: 10.8 мин
--------------------------------------------------
Сценарий №57
Зелень (NDVI): 52%
Инфраструктура: остановка: 4.7 мин, клиника: 13.7 мин, кафе: 14.8 мин, клиника: 18.6 мин
--------------------------------------------------
Сценарий №58
Зелень (NDVI): 40%
Инфраструктура: кафе: 3.5 мин, аптека: 4.2 мин, магазин: 10.5 мин, клиника: 19.1 мин, клиника: 23.0 мин
--------------------------------------------------
Сценарий №59
Зелень (NDVI): 44%
Инфраструктура: остановка: 4.5 мин, клиника: 6.4 мин, остановка: 6.5 мин, аптека: 12.7 мин, клиника: 13.0 мин
--------------------------------------------------
Сценарий №60
Зелень (NDVI): 44%
Инфраструктура: остановка: 4.0 мин, магазин: 6.5 мин, магазин: 10.8 мин, аптека: 17.4 мин, аптека: 19.8 мин, клиника: 24.7 мин
--------------------------------------------------
Сценарий №61
Зелень (NDVI): 27%
Инфраструктура: аптека: 7.4 мин, остановка: 8.6 мин, магазин: 9.9 мин, клиника: 18.4 мин, клиника: 25.0 мин
--------------------------------------------------
Сценарий №62
Зелень (NDVI): 25%
Инфраструктура: остановка: 2.3 мин, магазин: 2.6 мин, аптека: 8.2 мин, клиника: 9.1 мин, кафе: 9.6 мин, клиника: 14.9 мин
--------------------------------------------------
Сценарий №63
Зелень (NDVI): 38%
Инфраструктура: остановка: 6.6 мин, кафе: 13.3 мин, магазин: 13.5 мин, клиника: 16.3 мин, магазин: 17.8 мин
--------------------------------------------------
Сценарий №64
Зелень (NDVI): 39%
Инфраструктура: остановка: 2.7 мин, остановка: 5.8 мин, кафе: 6.7 мин, магазин: 14.1 мин, клиника: 16.5 мин, магазин: 19.8 мин
--------------------------------------------------
Сценарий №65
Зелень (NDVI): 36%
Инфраструктура: аптека: 3.7 мин, кафе: 8.1 мин, магазин: 8.6 мин, остановка: 8.9 мин, кафе: 11.8 мин, магазин: 13.5 мин, клиника: 23.8 мин
--------------------------------------------------
Сценарий №66
Зелень (NDVI): 55%
Инфраструктура: остановка: 9.8 мин, кафе: 13.0 мин, аптека: 13.0 мин, магазин: 14.2 мин, аптека: 14.6 мин, кафе: 15.5 мин
--------------------------------------------------
Сценарий №67
Зелень (NDVI): 33%
Инфраструктура: клиника: 2.4 мин, аптека: 8.1 мин, остановка: 9.0 мин, аптека: 11.1 мин, остановка: 11.8 мин, кафе: 13.4 мин
--------------------------------------------------
Сценарий №68
Зелень (NDVI): 59%
Инфраструктура: аптека: 2.9 мин, магазин: 8.1 мин, остановка: 8.6 мин, магазин: 14.3 мин, кафе: 14.5 мин, кафе: 20.6 мин, клиника: 22.4 мин
--------------------------------------------------
Сценарий №69
Зелень (NDVI): 37%
Инфраструктура: кафе: 8.3 мин, остановка: 8.5 мин, магазин: 10.8 мин, аптека: 10.9 мин, остановка: 11.2 мин, кафе: 13.9 мин, магазин: 15.5 мин, клиника: 22.0 мин
--------------------------------------------------
Сценарий №70
Зелень (NDVI): 39%
Инфраструктура: магазин: 2.3 мин, остановка: 5.4 мин, клиника: 5.8 мин, аптека: 8.0 мин, аптека: 9.7 мин, клиника: 10.1 мин
--------------------------------------------------
Сценарий №71
Зелень (NDVI): 37%
Инфраструктура: клиника: 2.7 мин, магазин: 5.3 мин, кафе: 6.2 мин, кафе: 10.1 мин, аптека: 17.5 мин, аптека: 19.4 мин
--------------------------------------------------
Сценарий №72
Зелень (NDVI): 30%
Инфраструктура: остановка: 9.9 мин, аптека: 11.8 мин, кафе: 13.8 мин, аптека: 14.8 мин, магазин: 14.9 мин, кафе: 17.3 мин
--------------------------------------------------
Сценарий №73
Зелень (NDVI): 30%
Инфраструктура: аптека: 6.7 мин, клиника: 8.6 мин, остановка: 9.1 мин, магазин: 9.4 мин, аптека: 11.5 мин, кафе: 14.5 мин, кафе: 17.0 мин
--------------------------------------------------
Сценарий №74
Зелень (NDVI): 45%
Инфраструктура: магазин: 7.2 мин, аптека: 9.3 мин, кафе: 10.3 мин, магазин: 13.3 мин, клиника: 17.2 мин, клиника: 20.2 мин
--------------------------------------------------
Сценарий №75
Зелень (NDVI): 16%
Инфраструктура: аптека: 2.5 мин, магазин: 3.4 мин, остановка: 4.9 мин, магазин: 6.4 мин, клиника: 6.6 мин
--------------------------------------------------
Сценарий №76
Зелень (NDVI): 18%
Инфраструктура: остановка: 6.7 мин, клиника: 7.8 мин, кафе: 7.9 мин, магазин: 8.8 мин, магазин: 14.4 мин, кафе: 14.4 мин, клиника: 14.7 мин, аптека: 14.8 мин
--------------------------------------------------
Сценарий №77
Зелень (NDVI): 28%
Инфраструктура: аптека: 6.1 мин, остановка: 7.5 мин, магазин: 7.8 мин, кафе: 8.1 мин, аптека: 8.1 мин, остановка: 10.0 мин, магазин: 12.9 мин
--------------------------------------------------
Сценарий №78
Зелень (NDVI): 34%
Инфраструктура: магазин: 4.4 мин, кафе: 9.4 мин, кафе: 16.0 мин, клиника: 23.3 мин
--------------------------------------------------
Сценарий №79
Зелень (NDVI): 51%
Инфраструктура: остановка: 3.2 мин, аптека: 6.3 мин, клиника: 11.0 мин, аптека: 11.3 мин, магазин: 13.4 мин, кафе: 14.7 мин, магазин: 15.6 мин
--------------------------------------------------
Сценарий №80
Зелень (NDVI): 25%
Инфраструктура: кафе: 4.1 мин, остановка: 4.9 мин, аптека: 8.2 мин, клиника: 10.8 мин, магазин: 11.4 мин
--------------------------------------------------
Сценарий №81
Зелень (NDVI): 47%
Инфраструктура: магазин: 3.3 мин, кафе: 4.6 мин, аптека: 7.8 мин, клиника: 13.6 мин, аптека: 14.4 мин, клиника: 19.2 мин
--------------------------------------------------
Сценарий №82
Зелень (NDVI): 14%
Инфраструктура: кафе: 3.9 мин, остановка: 9.0 мин, магазин: 9.2 мин, клиника: 24.3 мин
--------------------------------------------------
Сценарий №83
Зелень (NDVI): 12%
Инфраструктура: магазин: 3.3 мин, кафе: 6.6 мин, магазин: 8.1 мин
--------------------------------------------------
Сценарий №84
Зелень (NDVI): 57%
Инфраструктура: магазин: 9.6 мин, кафе: 13.2 мин, клиника: 20.0 мин
--------------------------------------------------
Сценарий №85
Зелень (NDVI): 36%
Инфраструктура: остановка: 2.5 мин, кафе: 5.1 мин, клиника: 7.9 мин, магазин: 9.1 мин
--------------------------------------------------
Сценарий №86
Зелень (NDVI): 52%
Инфраструктура: аптека: 7.5 мин, остановка: 7.9 мин, кафе: 8.1 мин, остановка: 11.8 мин, магазин: 12.1 мин, магазин: 17.8 мин, клиника: 23.5 мин
--------------------------------------------------
Сценарий №87
Зелень (NDVI): 60%
Инфраструктура: остановка: 3.1 мин, магазин: 6.0 мин, кафе: 8.9 мин, аптека: 15.4 мин, клиника: 21.7 мин
--------------------------------------------------
Сценарий №88
Зелень (NDVI): 41%
Инфраструктура: остановка: 5.7 мин, остановка: 9.4 мин, кафе: 13.3 мин, магазин: 13.6 мин, аптека: 14.4 мин, клиника: 21.9 мин
--------------------------------------------------
Сценарий №89
Зелень (NDVI): 32%
Инфраструктура: аптека: 4.9 мин, кафе: 6.2 мин, остановка: 6.4 мин, кафе: 12.6 мин
--------------------------------------------------
Сценарий №90
Зелень (NDVI): 16%
Инфраструктура: аптека: 3.8 мин, магазин: 9.9 мин, клиника: 10.6 мин, кафе: 11.2 мин, магазин: 11.5 мин, клиника: 16.6 мин, кафе: 17.0 мин
--------------------------------------------------
Сценарий №91
Зелень (NDVI): 14%
Инфраструктура: аптека: 8.4 мин, аптека: 10.0 мин, кафе: 10.8 мин, клиника: 19.2 мин
--------------------------------------------------
Сценарий №92
Зелень (NDVI): 45%
Инфраструктура: остановка: 2.8 мин, клиника: 22.0 мин
--------------------------------------------------
Сценарий №93
Зелень (NDVI): 28%
Инфраструктура: аптека: 3.5 мин, клиника: 4.0 мин, магазин: 4.5 мин, остановка: 5.5 мин, магазин: 7.2 мин, клиника: 8.7 мин, остановка: 9.7 мин, аптека: 10.5 мин, кафе: 13.9 мин
--------------------------------------------------
Сценарий №94
Зелень (NDVI): 41%
Инфраструктура: аптека: 4.5 мин, остановка: 7.8 мин, клиника: 8.2 мин
--------------------------------------------------
Сценарий №95
Зелень (NDVI): 25%
Инфраструктура: остановка: 4.2 мин, кафе: 6.6 мин, клиника: 7.7 мин, магазин: 10.1 мин, магазин: 16.2 мин
--------------------------------------------------
Сценарий №96
Зелень (NDVI): 39%
Инфраструктура: аптека: 4.6 мин, магазин: 6.7 мин, кафе: 7.7 мин, аптека: 9.8 мин, клиника: 16.8 мин
--------------------------------------------------
Сценарий №97
Зелень (NDVI): 50%
Инфраструктура: остановка: 4.6 мин, аптека: 4.7 мин, клиника: 5.5 мин, магазин: 7.3 мин, магазин: 9.8 мин
--------------------------------------------------
Сценарий №98
Зелень (NDVI): 27%
Инфраструктура: остановка: 7.9 мин, кафе: 7.9 мин, кафе: 11.7 мин, остановка: 14.2 мин, магазин: 14.5 мин, аптека: 16.2 мин
--------------------------------------------------
Сценарий №99
Зелень (NDVI): 21%
Инфраструктура: остановка: 5.7 мин, клиника: 9.8 мин, аптека: 13.6 мин
--------------------------------------------------
Сценарий №100
Зелень (NDVI): 41%
Инфраструктура: остановка: 4.7 мин, остановка: 8.9 мин, кафе: 14.6 мин, аптека: 14.9 мин, клиника: 21.2 мин, кафе: 21.3 мин, аптека: 21.8 мин
--------------------------------------------------

"""

if __name__ == "__main__":
    # путь к CSV с ответами формы
    build_final_dataset('CityVibe_AI - Ответы на форму (1) (1).csv', RAW_SCENARIOS)